namespace TTHandiCrafts.Authorization
{
    //public static class AuthPolicy
    //{
    // public const string RegisterRealEstate = nameof(RegisterRealEstate);
    //}
    //public class RegisterRealEstateAuthRequirement : IAuthorizationRequirement { }
    //public class RegisterRealEstateAuthHandler : AuthorizationHandler<RegisterRealEstateAuthRequirement>
    //{
    //    //private readonly IApplicationDbContext dbContext;
    //    //public RegisterRealEstateAuthHandler(IApplicationDbContext dbContext)
    //    //{
    //    //    this.dbContext = dbContext;
    //    //}
    //    protected override async Task HandleRequirementAsync(AuthorizationHandlerContext context, RegisterRealEstateAuthRequirement requirement)
    //    {
    //        //ishesh
    //        //proceraesh
    //        //var regionsClaim = context.User.FindFirst(p => p.Type == "Regions");
    //        //string[] regions = JsonConvert.DeserializeObject<string[]>(regionsClaim?.Value);
    //        //var realEstate = new RealEstateRight();
    //        //if (context.User.FindFirst(p => p.Type == UserClaimTypes.RealEstate.Register)?.Value != "true")
    //        //    return;
    //        //context.Succeed(requirement);
    //        //var user = context.User;
    //        //if (user.IsInRole(SystemRoles.Registrar) &&
    //        //user.FindFirst(p => p.Type == UserClaimTypes.Register)?.Value == bool.TrueString.ToLower())
    //        //{
    //        //    var isAdmin = user.IsInRole(SystemRoles.Admin);
    //        //    var isRegistrat = user.IsInRole(SystemRoles.Registrar);
    //        //    //context.Succeed(requirement);
    //        //}
    //    }
    //}
}
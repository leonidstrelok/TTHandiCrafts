networks:
  tthandicrafts-network:
    driver: bridge
services:
  postgresdb:
    container_name: postgresdb
    environment:
      PGDATA: /var/lib/postgresql/data/pgdata
      POSTGRES_PASSWORD: drVm#HQpXCJF$$smdpg79
    image: postgres:latest
    networks:
      tthandicrafts-network: {}
    ports:
    - published: 5432
      target: 5432
    restart: always
    volumes:
    - postgres-db-data:/var/lib/postgresql/data:rw
  tthandicrafts:
    container_name: tthandicrafts
    environment:
      ASPNETCORE_ENVIRONMENT: Production
      ASPNETCORE_URLS: https://+:443;http://+:80
      ConnectionStrings__DefaultConnection: Server=postgresdb;Port=5432;Database=TTHandiCrafts;User
        Id=postgres;Password=drVm#HQpXCJF$$smdpg79
    image: tthandicrafts
    networks:
      tthandicrafts-network: {}
    ports:
    - published: 8800
      target: 80
    - published: 4455
      target: 443
    restart: always
    volumes:
    - C:\Users\leoni\RiderProjects\TTHandiCrafts\ClientApp:/app:rw
version: '3.4'
volumes:
  postgres-db-data: {}